<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Maison Cire ‚Äî Bougies</title>
  <meta name="description" content="Maison Cire ‚Äî bougies parfum√©es. Packs personnalisables, panier, admin stock (d√©mo)." />
  <link rel="stylesheet" href="styles.css" />
  <script src="app.js" defer></script>
</head>

<body>
  <!-- Header -->
  <header class="header">
    <a class="brand" href="#">
      <span class="brand__dot" aria-hidden="true"></span>
      <span>Maison Cire</span>
    </a>

    <nav class="nav" id="nav" aria-label="Navigation">
      <a href="#boutique">Boutique</a>
      <a href="#packs">Packs</a>
      <a href="#newsletter">Newsletter</a>
      <a href="#admin">Admin</a>
    </nav>

    <div style="display:flex; align-items:center; gap:10px;">
      <button class="hamburger" id="hamburger" aria-label="Ouvrir le menu" aria-expanded="false">
        <span></span><span></span><span></span>
      </button>

      <button class="cartBtn" id="cartBtn" aria-label="Ouvrir le panier">
        <span aria-hidden="true">üõí</span>
        <span class="cartBtn__count" id="cartCount">0</span>
      </button>
    </div>
  </header>

  <!-- Floating Candle (simple animation) -->
  <div class="floatingCandle" aria-hidden="true">
    <svg class="floatingCandle__svg" viewBox="0 0 140 220" fill="none">
      <ellipse cx="70" cy="206" rx="44" ry="10" class="cShadow"/>
      <path d="M36 70c0-10 8-18 18-18h32c10 0 18 8 18 18v112c0 10-8 18-18 18H54c-10 0-18-8-18-18V70Z" class="cJar"/>
      <path d="M42 74c0-7 6-13 13-13h30c7 0 13 6 13 13v104c0 7-6 13-13 13H55c-7 0-13-6-13-13V74Z" class="cWax"/>
      <rect x="48" y="122" width="44" height="34" rx="10" class="cLabel"/>
      <path d="M56 138h28" class="cLabelLine"/>
      <path d="M56 146h22" class="cLabelLine2"/>
      <rect x="68" y="58" width="4" height="18" rx="2" class="cWick"/>
      <g class="cFlame">
        <path d="M70 24c10 12 14 20 14 30 0 11-7 20-14 20s-14-9-14-20c0-10 4-18 14-30Z" class="cFlameOuter"/>
        <path d="M70 34c6 7 8 12 8 18 0 7-4 12-8 12s-8-5-8-12c0-6 2-11 8-18Z" class="cFlameInner"/>
      </g>
      <path d="M48 78c0-6 5-11 11-11" class="cHighlight"/>
      <path d="M48 92c0-6 5-11 11-11" class="cHighlight2"/>
    </svg>
  </div>

  <!-- Hero -->
  <main>
    <section class="hero reveal">
      <div class="heroInner">
        <div class="hero__content">
          <p class="kicker">Bougies artisanales ¬∑ cire v√©g√©tale ¬∑ parfum√©es</p>
          <h1>Un univers clair, doux, premium.</h1>
          <p class="lead">
            Des bougies pens√©es pour transformer une pi√®ce en refuge.
            Compose ton pack (3 ou 5) ou ach√®te √† l‚Äôunit√©.
          </p>
          <div class="hero__actions">
            <a class="btn btn--primary" href="#boutique">Commandez maintenant</a>
            <a class="btn btn--ghost" href="#packs">Construire un pack</a>
          </div>
        </div>

        <div class="heroVisual" aria-hidden="true">
          <div class="heroCard">
            <div class="pill">Packs personnalisables</div>
            <div class="big">3 & 5</div>
            <div class="small">Remise automatique sur les moins ch√®res</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Boutique -->
    <section class="section reveal" id="boutique">
      <div class="section__head">
        <h2>Boutique</h2>
        <p class="muted">5 bougies ¬∑ stock en temps r√©el (d√©mo)</p>
      </div>

      <div class="grid" id="productGrid" aria-live="polite"></div>
    </section>

    <!-- Packs (Wizard) -->
    <section class="section reveal" id="packs">
      <div class="section__head">
        <h2>Construire un pack</h2>
        <p class="muted">Choisis un pack, compose-le, puis ajoute-le au panier.</p>
      </div>

      <div class="packWizard">
        <!-- STEP 1 -->
        <div class="packStep" id="packStep1">
          <h3 class="packStep__title">1) Choisir un pack</h3>

          <div class="packTypes">
            <button class="packTypeCard" data-packtype="3" type="button">
              <div class="packTypeCard__top">
                <span class="pill">Populaire</span>
                <span class="badge">3 bougies</span>
              </div>
              <h4>Pack 3</h4>
              <p>Tu en choisis 3, <strong>la moins ch√®re est offerte</strong>.</p>
            </button>

            <button class="packTypeCard" data-packtype="5" type="button">
              <div class="packTypeCard__top">
                <span class="pill">Meilleure valeur</span>
                <span class="badge">5 bougies</span>
              </div>
              <h4>Pack 5</h4>
              <p>Tu en choisis 5, <strong>les 2 moins ch√®res sont offertes</strong>.</p>
            </button>
          </div>

          <div class="row" style="display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;">
            <div class="muted" id="packChosenText">Aucun pack s√©lectionn√©.</div>
            <button class="btn btn--primary" id="packGoStep2" type="button" disabled>
              Continuer
            </button>
          </div>
        </div>

        <!-- STEP 2 -->
        <div class="packStep hidden" id="packStep2">
          <div class="packStep__head">
            <div>
              <h3 class="packStep__title">2) Composer votre pack</h3>
              <p class="muted" id="packStep2Subtitle"></p>
            </div>

            <div class="row" style="display:flex;gap:10px;flex-wrap:wrap;">
              <button class="btn btn--ghost" id="packBack" type="button">Retour</button>
              <button class="btn btn--ghost" id="packReset" type="button">R√©initialiser</button>
            </div>
          </div>

          <div class="packBuilder">
            <div class="packBuilder__left">
              <div class="packPickGrid" id="packPickGrid"></div>
            </div>

            <div class="packBuilder__right">
              <div class="packPreview">
                <div class="packPreview__head">
                  <h3>Votre pack</h3>
                  <span class="badge" id="packProgress">0 / 3</span>
                </div>

                <div id="packPreviewLines" class="packPreview__lines"></div>

                <div class="packPreview__summary">
                  <div class="sumRow">
                    <span>Valeur</span>
                    <strong id="packValue">0,00 ‚Ç¨</strong>
                  </div>
                  <div class="sumRow">
                    <span>Offert (moins cher)</span>
                    <strong id="packFree">- 0,00 ‚Ç¨</strong>
                  </div>
                  <div class="sumRow sumRow--total">
                    <span>Total pack</span>
                    <strong id="packTotal">0,00 ‚Ç¨</strong>
                  </div>

                  <p class="tiny muted" id="packHint"></p>

                  <p class="tiny muted" id="packPromoNote"></p>


                  <button class="btn btn--primary w100" id="addPackBtn" type="button" disabled>
                    Ajouter le pack au panier
                  </button>
                  <p class="formMsg" id="packMsg" role="status" aria-live="polite"></p>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </section>

    <!-- Newsletter -->
    <section class="section reveal" id="newsletter">
      <div class="section__head">
        <h2>Newsletter</h2>
        <p class="muted">Re√ßois les nouveaut√©s (d√©mo)</p>
      </div>

      <form class="newsletter" id="newsletterForm">
        <input id="newsletterEmail" type="email" placeholder="Votre email" autocomplete="email" required />
        <button class="btn btn--primary" type="submit">S'inscrire</button>
        <p class="formMsg" id="newsletterMsg" role="status" aria-live="polite"></p>
      </form>
    </section>

    <!-- Admin -->
    <section class="section reveal" id="admin">
      <div class="section__head">
        <h2>Admin</h2>
        <p class="muted">Gestion produits (d√©mo)</p>
      </div>

      <div class="adminBox">
        <div id="adminAuth">
          <div class="row" style="display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
            <label class="label" style="min-width:240px;">
              Code admin
              <input id="adminCode" type="password" placeholder="admin123" />
            </label>
            <button class="btn btn--primary" id="adminLogin" type="button">Connexion</button>
          </div>
          <p class="formMsg" id="adminMsg" role="status" aria-live="polite"></p>
        </div>

        <div id="adminPanel" class="hidden">
          <div class="row" style="display:flex; gap:10px; flex-wrap:wrap; align-items:flex-end;">
            <label class="label" style="min-width:240px;">
              Produit
              <select id="adminSelect"></select>
            </label>
            <button class="btn btn--ghost" id="adminReset" type="button">Reset donn√©es</button>
          </div>

          <div class="adminForm">
            <label class="label">
              Nom
              <input id="adminName" type="text" />
            </label>

            <label class="label">
              Prix (‚Ç¨)
              <input id="adminPrice" type="number" step="0.01" min="0" />
            </label>

            <label class="label">
              Stock
              <input id="adminStock" type="number" step="1" min="0" />
            </label>

            <label class="label">
              Description
              <textarea id="adminDesc" rows="3"></textarea>
            </label>
          </div>

          <div class="row" style="display:flex; gap:10px; flex-wrap:wrap; margin-top:12px;">
            <button class="btn btn--primary" id="adminSave" type="button">Sauvegarder</button>
            <p class="formMsg" id="adminSaveMsg" role="status" aria-live="polite"></p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Cart Drawer -->
  <div class="drawer" id="cartDrawer" aria-hidden="true">
    <div class="drawer__overlay" id="cartOverlay" aria-hidden="true"></div>

    <aside class="drawer__panel" role="dialog" aria-modal="true" aria-label="Panier">
      <div class="drawer__head">
        <strong>Votre panier</strong>
        <button class="iconBtn" id="cartClose" aria-label="Fermer">‚úï</button>
      </div>

      <div class="drawer__body">
        <div class="cartItems" id="cartItems"></div>

        <div class="cartSummary">
          <div class="sumRow">
            <span>Sous-total</span>
            <strong id="subtotal">0,00 ‚Ç¨</strong>
          </div>
          <div class="sumRow">
            <span>Remise</span>
            <strong id="discount">- 0,00 ‚Ç¨</strong>
          </div>
          <div class="sumRow sumRow--total">
            <span>Total</span>
            <strong id="total">0,00 ‚Ç¨</strong>
          </div>

          <p class="tiny muted" id="discountHint">Aucune promo appliqu√©e.</p>

          <button class="btn btn--primary w100" id="checkoutBtn" type="button">Valider (d√©mo)</button>
          <button class="btn btn--ghost w100" id="clearCartBtn" type="button">Vider le panier</button>

          <p class="formMsg" id="checkoutMsg" role="status" aria-live="polite"></p>
        </div>
      </div>
    </aside>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer__inner">
      <div class="muted">¬© <span id="year"></span> Maison Cire</div>
      <div class="footer__links">
        <a href="#" aria-label="Instagram">Instagram</a>
        <a href="#" aria-label="TikTok">TikTok</a>
        <a href="#" aria-label="Pinterest">Pinterest</a>
      </div>
    </div>
  </footer>

  <!-- Reveal on scroll (optional, keeps your site smooth) -->
  <script>
    (function setupReveal(){
      const els = document.querySelectorAll(".reveal");
      if (!("IntersectionObserver" in window) || els.length === 0) {
        els.forEach(el => el.classList.add("is-in"));
        return;
      }
      const io = new IntersectionObserver((entries) => {
        for (const e of entries) {
          if (e.isIntersecting) {
            e.target.classList.add("is-in");
            io.unobserve(e.target);
          }
        }
      }, { threshold: 0.12 });
      els.forEach(el => io.observe(el));
    })();
  </script>
</body>
</html>
